<?php

/**
 * @author archlams
 * @copyright 2012
 */

class avito_metro{
    static private $metro_name_list = array(
        85=>'Авиамоторная',
        13=>'Автозаводская',
        97=>'Академическая',
        53=>'Александровский сад',
        105=>'Алексеевская',
        135=>'Алтуфьево',
        156=>'Аннино',
        50=>'Арбатская',
        5=>'Аэропорт',
        109=>'Бабушкинская',
        57=>'Багратионовская',
        71=>'Баррикадная',
        47=>'Бауманская',
        69=>'Беговая',
        7=>'Белорусская',
        93=>'Беляево',
        131=>'Бибирево',
        207=>'Борисово',
        120=>'Боровицкая',
        107=>'Ботанический сад',
        145=>'Братиславская',
        195=>'Бунинская аллея',
        16=>'Варшавская',
        106=>'ВДНХ',
        112=>'Владыкино',
        2=>'Водный стадион',
        3=>'Войковская',
        77=>'Волгоградский проспект',
        142=>'Волжская',
        203=>'Волоколамская',
        198=>'Выставочная',
        81=>'Выхино',
        6=>'Динамо',
        115=>'Дмитровская',
        132=>'Добрынинская',
        21=>'Домодедовская',
        205=>'Достоевская',
        140=>'Дубровка',
        209=>'Зябликово',
        43=>'Измайловская',
        94=>'Калужская',
        18=>'Кантемировская',
        17=>'Каховская',
        15=>'Каширская',
        52=>'Киевская',
        74=>'Китай-город',
        144=>'Кожуховская',
        14=>'Коломенская',
        35=>'Комсомольская',
        92=>'Коньково',
        22=>'Красногвардейская',
        133=>'Краснопресненская',
        36=>'Красносельская',
        34=>'Красные ворота',
        139=>'Крестьянская застава',
        29=>'Кропоткинская',
        62=>'Крылатское',
        73=>'Кузнецкий мост',
        79=>'Кузьминки',
        60=>'Кунцевская',
        48=>'Курская',
        55=>'Кутузовская',
        98=>'Ленинский проспект',
        32=>'Лубянка',
        143=>'Люблино',
        87=>'Марксистская',
        146=>'Марьино',
        8=>'Маяковская',
        110=>'Медведково',
        197=>'Международная',
        117=>'Менделеевская',
        196=>'Митино',
        61=>'Молодежная',
        202=>'Мякинино',
        124=>'Нагатинская',
        125=>'Нагорная',
        126=>'Нахимовский проспект',
        82=>'Новогиреево',
        210=>'Новокосино',
        11=>'Новокузнецкая',
        134=>'Новослободская',
        89=>'Новоясеневская',
        95=>'Новые черемушки',
        100=>'Октябрьская',
        67=>'Октябрьское поле',
        20=>'Орехово',
        111=>'Отрадное',
        12=>'Павелецкая',
        165=>'Парк Победы',
        44=>'Партизанская',
        42=>'Первомайская',
        83=>'Перово',
        113=>'Петровско-Разумовская',
        141=>'Печатники',
        59=>'Пионерская',
        63=>'Планерная',
        86=>'Площадь Ильича',
        49=>'Площадь революции',
        68=>'Полежаевская',
        121=>'Полянка',
        130=>'Пражская',
        38=>'Преображенская площадь',
        76=>'Пролетарская',
        136=>'Проспект Мира',
        96=>'Профсоюзная',
        72=>'Пушкинская',
        1=>'Речной вокзал',
        104=>'Рижская',
        138=>'Римская',
        80=>'Рязанский проспект',
        116=>'Савеловская',
        108=>'Свиблово',
        127=>'Севастопольская',
        45=>'Семеновская',
        122=>'Серпуховская',
        201=>'Славянский бульвар',
        51=>'Смоленская',
        4=>'Сокол',
        37=>'Сокольники',
        26=>'Спортивная',
        206=>'Сретенский бульвар',
        200=>'Строгино',
        54=>'Студенческая',
        102=>'Сухаревская',
        64=>'Сходненская',
        75=>'Таганская',
        9=>'Тверская',
        10=>'Театральная',
        78=>'Текстильщики',
        91=>'Теплый стан',
        114=>'Тимирязевская',
        88=>'Третьяковская',
        199=>'Трубная',
        123=>'Тульская',
        103=>'Тургеневская',
        65=>'Тушинская',
        70=>'Улица 1905 года',
        194=>'Улица Горчакова',
        40=>'Улица Подбельского',
        25=>'Университет',
        58=>'Филевский парк',
        56=>'Фили',
        27=>'Фрунзенская',
        19=>'Царицыно',
        118=>'Цветной бульвар',
        39=>'Черкизовская',
        128=>'Чертановская',
        119=>'Чеховская',
        33=>'Чистые пруды',
        137=>'Чкаловская',
        99=>'Шаболовская',
        208=>'Шипиловская',
        84=>'Шоссе энтузиастов',
        41=>'Щелковская',
        66=>'Щукинская',
        46=>'Электрозаводская',
        23=>'Юго-Западная',
        129=>'Южная',
        90=>'Ясенево',
        30=>'Библиотека им. Ленина',
        193=>'Бульвар адмирала Ушакова',
        164=>'Бульвар Дмитрия Донского',
        157=>'Воробьевы Горы',
        204=>'Марьина Роща',
        31=>'Охотный ряд',
        28=>'Парк культуры',
        24=>'Проспект Вернадского',
        155=>'Улица академика Янгеля',
        192=>'Улица Скобелевская',
        212=>'Улица Старокачаловская',
        211=>'улица Сергея Эйзенштейна'
    );
    
    static public function get_metro_name($id){
        if(isset(avito_metro::$metro_name_list[$id])){
            return avito_metro::$metro_name_list[$id];
        }
        return FALSE;
    }
}

class avito_city{
    static private $city_list = array(
        'Авсюнино',
        'Агрогород',
        'Андреевка',
        'Апрелевка',
        'Архангельское',
        'Атепцево',
        'Ашитково',
        'Ашукино дп',
        'Балашиха',
        'Барвиха',
        'Барыбино дп',
        'Белозёрский',
        'Белоомут',
        'Белые Столбы дп',
        'Биокомбината',
        'Богородское',
        'Болшево дп',
        'Большевик',
        'Большие Вяземы',
        'Большие Дворы',
        'Большое Буньково',
        'Бронницы',
        'Быково',
        'Ватутинки',
        'Вербилки',
        'Верея',
        'Видное',
        'Вишняковские Дачи дп',
        'Володарского',
        'Волоколамск',
        'Воскресенск',
        'Востряково',
        'Высоковск',
        'Гальчино',
        'Глебовский',
        'Голицино',
        'Горки-10',
        'Городок-17',
        'Давыдово',
        'Деденево',
        'Дедовск',
        'Демихово',
        'Дзержинский',
        'Дмитров',
        'Долгопрудный',
        'Дома Отдыха "Горки"',
        'Домодедово',
        'Дорохово дп',
        'Дрезна',
        'Дружба',
        'Дубна',
        'Дубовая Роща',
        'Егорьевск',
        'Железнодорожный',
        'Житнево',
        'Жуковский',
        'Заветы Ильича',
        'Завода "Мосрентген"',
        'Загорянский дп',
        'Запрудня',
        'Зарайск',
        'Заречье',
        'Звенигород',
        'Знамя Октября',
        'Ивантеевка',
        'Икша',
        'Ильинский',
        'Ильинское',
        'Им Воровского',
        'им. Тельмана',
        'Им Цюрупы',
        'Истра',
        'Калининец',
        'Кашира',
        'Киевский',
        'Климовск',
        'Клин',
        'Клязьма дп',
        'Кокошкино дп',
        'Коломна',
        'Коммунарка',
        'Константиново',
        'Коренево',
        'Королев',
        'Котельники',
        'Красково дп',
        'Красная Пойма',
        'Красноармейск',
        'Красногорск',
        'Краснозаводск',
        'Краснознаменск',
        'Красный Холм',
        'Кратово дп',
        'Кубинка',
        'Купавна дп',
        'Куровское',
        'Лесной',
        'Лесной Городок',
        'Лесные Поляны',
        'Ликино-Дулево',
        'ЛМС',
        'Лобня',
        'Лопатинский',
        'Лосино-Петровский',
        'Лотошино',
        'Луговая дп',
        'Лунёво',
        'Луховицы',
        'Лыткарино',
        'Львовский',
        'Люберцы',
        'Любучаны',
        'Малаховка',
        'Малино',
        'Мамонтовка дп',
        'Марфино',
        'Менделеево',
        'Мещерино',
        'Михнево',
        'Мишеронский',
        'Можайск',
        'Монино',
        'Московский',
        'Мытищи',
        'Наро-Фоминск',
        'Нахабино',
        'Некрасовский',
        'Никольско-Архангельское',
        'Новоивановское',
        'Новопетровское',
        'Новоподрезково',
        'Новосиньково',
        'Ногинск',
        'Оболенск',
        'Обухово',
        'Одинцово',
        'Ожерелье',
        'Озёры',
        'Октябрьский',
        'Опалиха дп',
        'Орехово-Зуево',
        'Островцы',
        'Павловская Слобода',
        'Павловский Посад',
        'Первомайский',
        'Пересвет',
        'Пески',
        'Пироговский',
        'Поварово дп',
        'Подольск',
        'Подсобного Хозяйства "Воскресенское"',
        'Правдинский',
        'Привокзальный',
        'Приокск',
        'Пролетарский',
        'Протвино',
        'Пушкино',
        'Пущино',
        'Развилка',
        'Раменское',
        'Реммаш',
        'Реутов',
        'Речицы',
        'Решетниково',
        'Ржавки',
        'Рогачево',
        'Родники дп',
        'Рождествено',
        'Рошаль',
        'Руза',
        'Салтыковка дп',
        'Санатория им. Герцена',
        'Свердловский',
        'Северный',
        'Селятино',
        'Сергиев Посад',
        'Сергиевский',
        'Серебряные Пруды',
        'Серпухов',
        'Скоропусковский',
        'Снегири дп',
        'совхоза им. 1 Мая',
        'совхоза им. Ленина',
        'совхоза "Раменское"',
        'Солнечногорск',
        'Софрино',
        'Старая Купавна',
        'Старый Городок',
        'Столбовая',
        'Ступино',
        'Сходня',
        'Сычево',
        'Талдом',
        'Текстильщик',
        'Томилино',
        'Троицк',
        'Троицкое',
        'Тучково',
        'Уваровка',
        'Удельная дп',
        'Узуново',
        'Фабрики им. 1 Мая',
        'Фосфоритный',
        'Фрязино',
        'Фряново',
        'Химки',
        'Хорлово',
        'Хотьково',
        'Центральной Усадьбы совхоза',
        'Центральной Усадьбы совхоза "Мир"',
        'Черкизово дп',
        'Черноголовка',
        'Черное',
        'Черусти',
        'Чехов',
        'Шатура',
        'Шатурторф',
        'Шаховская',
        'Шереметьевский',
        'Шишкин Лес',
        'Шувое',
        'Щербинка',
        'Щёлково',
        'Электрогорск',
        'Электроизолятор',
        'Электросталь',
        'Электроугли',
        'Юбилейный',
        'Яковлевское',
        'Ям',
        'Яхрома',
        'Москва'
    );

    static public function check_city($str){
        $str = strtolower($str);
        foreach(avito_city::$city_list as $value){
            if(strpos($str, strtolower($value))!==FALSE){
                return $value;
            }
        }
        return FALSE;
    }
}

function avito_token_truncate($string, $len, $regexp='\.', $replace='.'){
	$string = strip_tags($string);
	if(strlen($string)<=$len){
		return $string;
	}
	return preg_replace('/['.$regexp.']+?[^'.$regexp.']*$/', $replace, substr($string, 0, $len));
}

?>